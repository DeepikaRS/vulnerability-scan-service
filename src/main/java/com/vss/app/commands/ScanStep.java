package com.vss.app.commands;

import com.vss.app.model.UploadContext;
import org.springframework.beans.factory.annotation.Value;

import java.io.IOException;

public abstract class ScanStep {
    protected ScanStep nextStep;

    @Value("${debricked.bearer.token}")
    protected String jwtToken;

    public ScanStep linkWith(ScanStep nextStep) {
        this.nextStep = nextStep;
        return this.nextStep;
    }

    public abstract void execute(UploadContext context) throws IOException;

    protected void next(UploadContext context) throws IOException {
        if (nextStep != null) {
            nextStep.execute(context);
        }
    }
}
